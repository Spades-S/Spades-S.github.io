<!DOCTYPE html>
<html lang="zh-CN">



<!-- Head tag -->
<head>
    
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no">
    
    <title>
    
        css权威指南-浮动和定位 - 
    
    Spades
    </title>
    
    <meta name="keywords" content="">
    <meta name="description" content="Warning: inexperienced programmer inside!">
    <meta name="author" content="Dr. A. Clef">
    
    <link rel="alternate" type="application/atom+xml" hrel="/atom.xml">
    
    <link rel="Shortcut Icon" href="/favicon.ico" type="image/x-icon">
    
    <link href="/css/style.css" rel="stylesheet" type="text/css">
    <link href="/css/responsive.css" rel="stylesheet" type="text/css" media="screen and (max-width: 768px)">
    <link href="https://cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://cdn.bootcss.com/cc-icons/1.2.1/css/cc-icons.min.css" rel="stylesheet" type="text/css">
    <script src="https://cdn.bootcss.com/jquery/3.1.0/jquery.min.js"></script>
    <script src="https://cdn.bootcss.com/jquery_lazyload/1.9.7/jquery.lazyload.min.js"></script>
    <script src="/js/dropdown.js" type="text/javascript" async></script>
    <script src="/js/sidebar.js" type="text/javascript" async></script>
    
</head>


<body class="single">
    <div id="header">
    <div class="container clearfix">
        <div class="logo" style="width: auto;">
            <a href="/" title="Spades" rel="home" style="text-decoration: none;">
                
                <span class="brand-logo">
                    
                    Spades
                    
                
                </span>
            </a>
        </div>
        
<form method="get" class="search-form" action="/search.html">
    <input type="text" name="s" class="search-input" placeholder="输入关键词" />
    <button type="submit" class="search-submit">
        <span class="fa fa-search"></span>
    </button>
</form>


        <div class="global-nav">
            <ul class="gnul">
                <li class="gnli ">
                    <a class="gna" href="/" title="Spades">
                        <span class="fa fa-home"></span><span>主页</span>
                    </a>
                </li>
                
                <li class="gnli dropdown current">
                    <a class="gna dropdown-link fa fa-bars" href="javascript:;">
                        <span>导航</span>
                    </a>
                    <div class="dropdown-arrow1"></div>
                    <div class="dropdown-arrow2"></div>
                    <div class="submenu">
                        <div class="tab-content">
                            <table>
                                <tbody>
                                    
                                    <tr class="trline">
                                        <td class="tdleft">分类</td>
                                        <td class="tdright">
                                            <div class="tab-categories">
                                                <ul>
                                                
                                                    <li class="cat-item">
                                                        <a href="/categories/CSS/">CSS</a>
                                                    </li>
                                                
                                                    <li class="cat-item">
                                                        <a href="/categories/JavaScript/">JavaScript</a>
                                                    </li>
                                                
                                                    <li class="cat-item">
                                                        <a href="/categories/readlist/">readlist</a>
                                                    </li>
                                                
                                                    <li class="cat-item">
                                                        <a href="/categories/工程/">工程</a>
                                                    </li>
                                                
                                                    <li class="cat-item">
                                                        <a href="/categories/运维/">运维</a>
                                                    </li>
                                                
                                                    <li class="cat-item">
                                                        <a href="/categories/随笔/">随笔</a>
                                                    </li>
                                                
                                                </ul>
                                            </div>
                                        </td>
                                    </tr>
                                    
                                    <!-- <tr>
                                        <td class="tdleft">标签</td>
                                        <td class="tdright">
                                            <div class="tab-tags">
                                                <a href="/tags/阅读整理/" style="font-size: 12px;">阅读整理</a> <a href="/tags/个人总结/" style="font-size: 12px;">个人总结</a> <a href="/tags/杂感/" style="font-size: 12px;">杂感</a>
                                            </div>
                                        </td>
                                    </tr> -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </li>
                
                
                <li class="gnli">
                    <a class="gna" href="/archives/" title="">
                        <span class="fa fa-archive"></span>归档
                    </a>
                </li>
                
                <li class="gnli">
                    <a class="gna" href="/about/" title="">
                        <span class="fa fa-user"></span>关于
                    </a>
                </li>
                
                <li class="gnli">
                    <a class="gna" href="/2017-08-29-readlist" title="">
                        <span class="fa fa-book"></span>阅读列表
                    </a>
                </li>
                
                
                
            </ul>
        </div>
    </div>
        <div id="motto">
            
        </div>
</div>

    <div id="content">
    <div class="container clearfix">
        <div id="primary" class="no-toc">
            
            <div class="breadcrumb-navigation">
                <a rel="bookmark" href="/">
                    主页
                </a>
                <span class="breadcrumb-arrow fa fa-angle-right"></span>
                 
<a href="/categories/CSS/" title="CSS" rel="category tag">CSS</a>

                    <span class="breadcrumb-arrow fa fa-angle-right"></span>
                    css权威指南-浮动和定位
            </div>
            
            <div class="single-post">
              
                <div class="post-header">
                    <h2 class="post-title">
                        <a href="/2018-03-08-css权威指南-浮动和定位/" title="css权威指南-浮动和定位">
                            css权威指南-浮动和定位
                        </a>
                    </h2>
                </div>
              
                 <div class="post-meta">
                    <ul class="inline-ul">
                        <li class="inline-li">
                            2018-03-08
                        </li>
                        
                        <li class="inline-li">
                            <span class="post-span">·</span>
                        </li>
                        <li class="inline-li">
                             
<a href="/categories/CSS/" title="CSS" rel="category tag">CSS</a>

                        </li>
                        
                        
                        <li class="inline-li">
                            <span class="post-span">·</span>
                        </li>
                        <li class="inline-li">
                            <span id="busuanzi_value_page_pv"></span> Views
                        </li>
                        
                    </ul>
                </div>
                <div class="post-body clearfix">
                    <div class="post-content">
                        
                                <p>《CSS权威指南》里第二个有价值的章节。</p>
<p>这一章的内容比较碎，如果在文章里堆积知识点，不会有太大的价值，不论是对我还是对这篇博文的读者。我挑了几个比较有意思的点，整理了一下。</p>
<p><strong>1. 包含块</strong></p>
<p>不论是浮动元素还是定位元素，它们浮动和定位均是相对于包含框来进行浮动、定位的。<strong>包含块——参考坐标系</strong></p>
<p><strong>浮动元素</strong>：浮动元素的包含块是其最近的块级祖先元素</p>
<p><strong>根元素</strong>：根元素的包含块( 初始包含块 )由用户代理建立，在大多数浏览器里，初始包含块是一个视窗大小的矩形</p>
<p><strong>position : static/relative的非根元素</strong>：包含块由最近的块级框、表单元格或者行内块祖先框的内容边界构成</p>
<p><strong>position : absolute的非根元素</strong>：包含块为最近的position值不是static的祖先元素。如果祖先元素是<strong>块级元素</strong>，包含块为<strong>该元素的内边距边界</strong>；如果祖先元素是<strong>行内元素</strong>，包含块为<strong>该元素的内容边界</strong>；如果没有祖先，包含块为初始包含块</p>
<p><strong>position : fixed</strong>：包含块是视窗</p>
<p><strong>2. 浮动、定位对元素本身的影响</strong></p>
<ul>
<li><p>浮动</p>
<ul>
<li>浮动元素会以某种方式从正常文档流中移除，但<strong>仍旧影响布局</strong>。浮动元素同时处于流内和流外</li>
<li>浮动元素<strong>会生成一个块级框，不论元素本身是块级或是行内元素</strong></li>
<li>浮动元素周围的外边距不会合并 =&gt; float 不为none时会生成新的BFC，只有同一个BFC中的相邻margin才会合并</li>
</ul>
</li>
<li><p>绝对定位元素</p>
<ul>
<li>绝对定位元素会从文档流中完全删除</li>
<li>相对于其包含块定位，其边界根据偏移属性放置</li>
<li>会为其后代元素建立一个包含块</li>
</ul>
</li>
<li><p>固定定位元素</p>
<ul>
<li>固定定位元素会从文档流中去除</li>
<li>相对于视窗定位</li>
</ul>
</li>
<li><p>相对定位元素</p>
<ul>
<li><strong>只是从其正常的位置移走，原来所占的空间并不会因此消失</strong></li>
</ul>
</li>
</ul>
<p><strong>3. 包裹性</strong></p>
<p>当元素设置了浮动属性或者是进行了绝对定位、固定定位时，如果不显式设置元素宽度，元素会具有一定的包裹性，使其刚好能够容纳下当前内容。</p>
<ul>
<li><p>float</p>
<p>当元素设置了浮动属性时，会有一些细微的变化。CSS权威指南上是这么表述的，<code>浮动元素会生成一个块级框，不论元素本身是块级还是行内元素</code>。不过我更加偏向于张鑫旭的表述，<code>撇开浮动的破坏性，浮动就是个带有方位的display:inline-block属性</code>。(详见<a href="http://www.zhangxinxu.com/wordpress/2010/01/css-float%E6%B5%AE%E5%8A%A8%E7%9A%84%E6%B7%B1%E5%85%A5%E7%A0%94%E7%A9%B6%E3%80%81%E8%AF%A6%E8%A7%A3%E5%8F%8A%E6%8B%93%E5%B1%95%E4%B8%80/" target="_blank" rel="noopener">float深入研究1-张鑫旭</a> 、 <a href="http://www.zhangxinxu.com/wordpress/2010/01/css-float%E6%B5%AE%E5%8A%A8%E7%9A%84%E6%B7%B1%E5%85%A5%E7%A0%94%E7%A9%B6%E3%80%81%E8%AF%A6%E8%A7%A3%E5%8F%8A%E6%8B%93%E5%B1%95%E4%BA%8C/" target="_blank" rel="noopener">float深入研究2-张鑫旭</a>) </p>
<p>按照<strong>float是带有方位的display:inline-block属性</strong>来理解，<strong>由于display:inline-block会对元素产生包裹性</strong>，从而就不难解释元素设置了浮动属性后会对其自身产生包裹性。</p>
</li>
<li><p>positon : absolute/fixed</p>
<p>对于相对定位元素和绝对定位元素，除了不显示设置width值之外，还须保证left/right中至少有一个为auto，否则其宽度将是<code>left</code> 到 <code>right</code> 之间的距离</p>
</li>
</ul>
<p><strong>4. 浮动为什么会导致父元素高度塌陷</strong></p>
<p>首先需要了解高度是怎么产生的。这里引用张鑫旭的一段解释，<code>在目前的CSS世界里，所有的高度都是由两个CSS模型产生，一个是box盒状模型：height + padding + margin，另一个是line box模型，对应样式为line-height</code>  前者比较常见，后者对应文字等inline boxes元素。行内元素高度是怎么取得的呢？一个文本行是由若干个行内元素组成的。<strong>一个文本行的高度是由其行框高度 决定的，而行框高度则是由该行中出现的行内框的最高点和最低点决定的，行内框又和line-height值相等</strong>，从而 <code>文本行高度和该行中各个行内元素的line-height高度相关</code></p>
<p>要想解释浮动使得父元素高度塌陷，需要先了解下张鑫旭对<strong>浮动的包裹性和破坏性</strong>的定义[ 我个人是认同张鑫旭的解释的 ]。   <code>浮动的包裹性让元素变成类似于inline-box元素，浮动的破坏性破坏的也正是inline-box</code>。包裹性上文已经说过了，现在来看一下破坏性有什么影响。</p>
<p>浮动元素所在文本行的高度是由其中的行内框高度所决定的。当浮动的破坏性破坏了浮动元素的inline-box，也就相当于破坏了其行内框，对于所在的文本行，其中将不包含任何行内框，那么该行高度应变为0。对于浮动元素的父元素，其可见高度应该由内容区+padding+border构成，内容区高度和浮动元素所在行高有关，由于浮动，浮动元素所在行行高将变为0。此时，当浮动元素高度大于其父元素的<code>padding + border</code> 就会出现高度塌陷。</p>
<p><strong>5. clear到底做了什么</strong></p>
<p>设置了浮动可能会导致父元素高度塌陷，这个时候需要清除塌陷，清除塌陷可以利用 <code>clear</code> 属性来完成。那<code>clear</code> 属性到底做了啥呢？</p>
<p>在CSS1和CSS2中，clear会增加元素的上外边距，使之最后落在浮动元素的下面。</p>
<p>在CSS2.1中引入了清除区域，清除区域是在元素上外边距之上增加的额外间隔，不允许任何浮动元素进入这个范围内，也就是说元素设置clear属性，其外边距并不会改变，之所以下移是清除区域造成的。我在chrome中进行了测试，验证了清除区域的存在。</p>
<p><strong>6. 定位元素如何放置、大小</strong></p>
<p>这块不知道怎么整理，直接看书可能是更好的选择。<strong>《CSS权威指南》P327-P333</strong></p>
<p><strong>7. 层叠上下文</strong></p>
<p>具体参考博文<a href="https://spades-s.github.io/2018-01-08-The-Stacking-Context/">The-Stacking-Context</a></p>

                    </div>
                </div>
                  
                <div class="post-tags">
                    
                        
                            <a href="/tags/阅读整理/" title="阅读整理" rel="tag" class="fa fa-tag">
                                阅读整理
                            </a>
                            
                                
                </div>
                <ul class="pager">

    <li class="previous">
        <a href="/2018-03-15-CSS-spec-visual-formatting-model/" title="CSS-spec-visual-formatting-model" class="tooltipped tooltipped-n" aria-label="CSS-spec-visual-formatting-model"><i class="fa fa-chevron-left"></i> 上一篇文章</a>
    </li>
    
    
    <li class="next">
        <a href="/2018-03-05-css权威指南-视觉格式化/" title="css权威指南-视觉格式化" class="tooltipped tooltipped-n" aria-label="css权威指南-视觉格式化">下一篇文章 <i class="fa fa-chevron-right"></i></a>
    </li>
    
</ul>

                  
            </div>
              
            
<div id="container"  style="margin-top: 70px"></div>
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
    var gitment = new Gitment({
    id:'undefined',
    owner: 'Spades-S',
    repo: 'SpadesComments',
    oauth: {
        client_id: '97c0bf26004470371f4e',
        client_secret: '2cc70304d7b9e02d6dd486319038673daebab9d9',
    },
    })
gitment.render('container')
</script>


              
        </div>
        <!-- #primary -->
        
    </div>
     

</div>
    <!-- Footer -->
    
<!-- #content -->
<div id="footer">
    <div class="container">
        <p>
            <span class="cc-license">
                <a href="https://creativecommons.org/licenses/by-sa/4.0" target="_blank" title="Creative Commons license by-sa">
                <i class="cc cc-cc"></i>
                
                    <i class="cc cc-by"></i>
                
                    <i class="cc cc-sa"></i>
                
                </a>
            </span>
            2017.2-2018 Spades.
        </p>
        <p>Themed by <a href="https://github.com/unnamed42/hexo-theme-kunkka">Kunkka</a> | Powered by <a href="https://hexo.io/">Hexo</a>.</p>
        


<div class="sns-icons">
    
        
        
    
        
        
    
        
        
    
        
        
    
        
        
    
        
        
    
        
        
    
        
        
    
        
        
    
</div>


    </div>
</div>
<!-- #footer -->

    <!-- Totop -->
<div id="backtoTop" data-action="gototop" title="送你上天">
    <canvas id="backtoTopCanvas" width="48" height="48"></canvas>
    <div class="percentage"></div>
</div>

<script src="/js/totop.js" type="text/javascript" async></script>


<script type="text/javascript" src="https://cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
            processEscapes: true,
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
    });
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>


<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>




</body>

</html>
